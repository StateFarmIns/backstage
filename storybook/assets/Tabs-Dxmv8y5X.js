import{r as c,a4 as p,j as h}from"./iframe-DB3V3M1P.js";import{$ as B,a as U,b as G,c as J,d as Q,e as X,f as _,g as A,h as Y,i as Z,j as ee}from"./useListState-vFFr9u4I.js";import{j as te,a as T,b as ae,$ as re,d as E,h as I,k as M,e as se}from"./utils-DLW_tb52.js";import{$ as ne,b as ie,a as le}from"./SelectionIndicator-nkrCBb_q.js";import{$ as oe}from"./Hidden-vGeag6Hf.js";import{b as w,a as de,d as L,c as ce}from"./useFocusRing-BjAnfjlx.js";import{$ as ue}from"./useControlledState-B0cvNj1u.js";import{c as be,$ as fe}from"./usePress-tJArtEap.js";import{$ as j}from"./useLabels-D6TP-BPt.js";import{$ as ve}from"./context-Cw9i9oyM.js";import{u as S}from"./useStyles-0KSv8py2.js";import{c as g}from"./clsx-B-dksMZM.js";import{b as pe,u as $e,c as ye}from"./index-Du1GFH8T.js";function he(a,t){let e=t?.isDisabled,[r,s]=c.useState(!1);return te(()=>{if(a?.current&&!e){let i=()=>{if(a.current){let u=ne(a.current,{tabbable:!0});s(!!u.nextNode())}};i();let n=new MutationObserver(i);return n.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{n.disconnect()}}}),e?!1:r}const F=new WeakMap;function D(a,t,e){return a?(typeof t=="string"&&(t=t.replace(/\s+/g,"")),`${F.get(a)}-${e}-${t}`):""}function me(a,t,e){let{key:r,isDisabled:s,shouldSelectOnPressUp:i}=a,{selectionManager:n,selectedKey:u}=t,l=r===u,o=s||t.isDisabled||t.selectionManager.isDisabled(r),{itemProps:b,isPressed:d}=B({selectionManager:n,key:r,ref:e,isDisabled:o,shouldSelectOnPressUp:i,linkBehavior:"selection"}),f=D(t,r,"tab"),v=D(t,r,"tabpanel"),{tabIndex:m}=b,$=t.collection.getItem(r),y=w($?.props,{labelable:!0});delete y.id;let C=be($?.props),{focusableProps:H}=de({isDisabled:o},e);return{tabProps:T(y,H,C,b,{id:f,"aria-selected":l,"aria-disabled":o||void 0,"aria-controls":l?v:void 0,tabIndex:o?void 0:m,role:"tab"}),isSelected:l,isDisabled:o,isPressed:d}}function xe(a,t,e){let r=he(e)?void 0:0;var s;const i=D(t,(s=a.id)!==null&&s!==void 0?s:t?.selectedKey,"tabpanel"),n=j({...a,id:i,"aria-labelledby":D(t,t?.selectedKey,"tab")});return{tabPanelProps:T(n,{tabIndex:r,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class ge{getKeyLeftOf(t){return this.flipDirection?this.getNextKey(t):this.getPreviousKey(t)}getKeyRightOf(t){return this.flipDirection?this.getPreviousKey(t):this.getNextKey(t)}isDisabled(t){var e,r;return this.disabledKeys.has(t)||!!(!((r=this.collection.getItem(t))===null||r===void 0||(e=r.props)===null||e===void 0)&&e.isDisabled)}getFirstKey(){let t=this.collection.getFirstKey();return t!=null&&this.isDisabled(t)&&(t=this.getNextKey(t)),t}getLastKey(){let t=this.collection.getLastKey();return t!=null&&this.isDisabled(t)&&(t=this.getPreviousKey(t)),t}getKeyAbove(t){return this.tabDirection?null:this.getPreviousKey(t)}getKeyBelow(t){return this.tabDirection?null:this.getNextKey(t)}getNextKey(t){let e=t;do e=this.collection.getKeyAfter(e),e==null&&(e=this.collection.getFirstKey());while(e!=null&&this.isDisabled(e));return e}getPreviousKey(t){let e=t;do e=this.collection.getKeyBefore(e),e==null&&(e=this.collection.getLastKey());while(e!=null&&this.isDisabled(e));return e}constructor(t,e,r,s=new Set){this.collection=t,this.flipDirection=e==="rtl"&&r==="horizontal",this.disabledKeys=s,this.tabDirection=r==="horizontal"}}function Ke(a,t,e){let{orientation:r="horizontal",keyboardActivation:s="automatic"}=a,{collection:i,selectionManager:n,disabledKeys:u}=t,{direction:l}=ve(),o=c.useMemo(()=>new ge(i,l,r,u),[i,u,r,l]),{collectionProps:b}=U({ref:e,selectionManager:n,keyboardDelegate:o,selectOnFocus:s==="automatic",disallowEmptySelection:!0,scrollRef:e,linkBehavior:"selection"}),d=ae();F.set(t,d);let f=j({...a,id:d});return{tabListProps:{...T(b,f),role:"tablist","aria-orientation":r,tabIndex:void 0}}}function Pe(a){var t;let[e,r]=ue(a.selectedKey,(t=a.defaultSelectedKey)!==null&&t!==void 0?t:null,a.onSelectionChange),s=c.useMemo(()=>e!=null?[e]:[],[e]),{collection:i,disabledKeys:n,selectionManager:u}=G({...a,selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:o=>{if(o==="all")return;var b;let d=(b=o.values().next().value)!==null&&b!==void 0?b:null;d===e&&a.onSelectionChange&&a.onSelectionChange(d),r(d)}}),l=e!=null?i.getItem(e):null;return{collection:i,disabledKeys:n,selectionManager:u,selectedKey:e,setSelectedKey:r,selectedItem:l}}function Te(a){var t,e;let r=Pe({...a,onSelectionChange:a.onSelectionChange?l=>{var o;l!=null&&((o=a.onSelectionChange)===null||o===void 0||o.call(a,l))}:void 0,suppressTextValueWarning:!0,defaultSelectedKey:(e=(t=a.defaultSelectedKey)!==null&&t!==void 0?t:N(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&e!==void 0?e:void 0}),{selectionManager:s,collection:i,selectedKey:n}=r,u=c.useRef(n);return c.useEffect(()=>{let l=n;a.selectedKey==null&&(s.isEmpty||l==null||!i.getItem(l))&&(l=N(i,r.disabledKeys),l!=null&&s.setSelectedKeys([l])),(l!=null&&s.focusedKey==null||!s.isFocused&&l!==u.current)&&s.setFocusedKey(l),u.current=l}),{...r,isDisabled:a.isDisabled||!1}}function N(a,t){let e=null;if(a){var r,s,i,n;for(e=a.getFirstKey();e!=null&&(t.has(e)||!((s=a.getItem(e))===null||s===void 0||(r=s.props)===null||r===void 0)&&r.isDisabled)&&e!==a.getLastKey();)e=a.getKeyAfter(e);e!=null&&(t.has(e)||!((n=a.getItem(e))===null||n===void 0||(i=n.props)===null||i===void 0)&&i.isDisabled)&&e===a.getLastKey()&&(e=a.getFirstKey())}return e}const R=c.createContext(null),K=c.createContext(null),we=c.forwardRef(function(t,e){[t,e]=re(t,e,R);let{children:r,orientation:s="horizontal"}=t;return r=c.useMemo(()=>typeof r=="function"?r({orientation:s,defaultChildren:null}):r,[r,s]),p.createElement(J,{content:r},i=>p.createElement(Se,{props:t,collection:i,tabsRef:e}))});function Se({props:a,tabsRef:t,collection:e}){let{orientation:r="horizontal"}=a,s=Te({...a,collection:e,children:void 0}),{focusProps:i,isFocused:n,isFocusVisible:u}=L({within:!0}),l=c.useMemo(()=>({orientation:r,isFocusWithin:n,isFocusVisible:u}),[r,n,u]),o=E({...a,defaultClassName:"react-aria-Tabs",values:l}),b=w(a,{global:!0});return p.createElement("div",{...T(b,o,i),ref:t,slot:a.slot||void 0,"data-focused":n||void 0,"data-orientation":r,"data-focus-visible":u||void 0,"data-disabled":s.isDisabled||void 0},p.createElement(I,{values:[[R,a],[K,s]]},o.children))}const Ce=c.forwardRef(function(t,e){return c.useContext(K)?p.createElement(De,{props:t,forwardedRef:e}):p.createElement(X,t)});function De({props:a,forwardedRef:t}){let e=c.useContext(K),{CollectionRoot:r}=c.useContext(A),{orientation:s="horizontal",keyboardActivation:i="automatic"}=se(R),n=M(t),{tabListProps:u}=Ke({...a,orientation:s,keyboardActivation:i},e,n),l=E({...a,children:null,defaultClassName:"react-aria-TabList",values:{orientation:s,state:e}}),o=w(a,{global:!0});return delete o.id,p.createElement("div",{...T(o,l,u),ref:n,"data-orientation":s||void 0},p.createElement(le,null,p.createElement(r,{collection:e.collection,persistedKeys:Z(e.selectionManager.focusedKey)})))}class O extends ee{}O.type="item";const Ee=Q(O,(a,t,e)=>{let r=c.useContext(K),s=M(t),{tabProps:i,isSelected:n,isDisabled:u,isPressed:l}=me({key:e.key,...a},r,s),{focusProps:o,isFocused:b,isFocusVisible:d}=L(),{hoverProps:f,isHovered:v}=ce({isDisabled:u,onHoverStart:a.onHoverStart,onHoverEnd:a.onHoverEnd,onHoverChange:a.onHoverChange}),m=E({...a,id:void 0,children:e.rendered,defaultClassName:"react-aria-Tab",values:{isSelected:n,isDisabled:u,isFocused:b,isFocusVisible:d,isPressed:l,isHovered:v}}),$=e.props.href?"a":"div",y=w(a,{global:!0});return delete y.id,delete y.onClick,p.createElement($,{...T(y,m,i,o,f),ref:s,"data-selected":n||void 0,"data-disabled":u||void 0,"data-focused":b||void 0,"data-focus-visible":d||void 0,"data-pressed":l||void 0,"data-hovered":v||void 0},p.createElement(ie.Provider,{value:{isSelected:n}},m.children))}),Re=oe(function(t,e){const r=c.useContext(K);let s=M(e),{id:i,...n}=t,{tabPanelProps:u}=xe(t,r,s),{focusProps:l,isFocused:o,isFocusVisible:b}=L(),d=r.selectedKey===t.id,f=E({...t,defaultClassName:"react-aria-TabPanel",values:{isFocused:o,isFocusVisible:b,isInert:_(!d),state:r}});if(!d&&!t.shouldForceMount)return null;let v=w(n,{global:!0});delete v.id;let m=d?T(v,u,l,f):f;return p.createElement("div",{...m,ref:s,"data-focused":o||void 0,"data-focus-visible":b||void 0,inert:_(!d||t.inert),"data-inert":d?void 0:"true"},p.createElement(I,{values:[[R,null],[K,null]]},p.createElement(A.Provider,{value:Y},f.children)))}),P={"bui-Tabs":"_bui-Tabs_2tqyw_18","bui-TabList":"_bui-TabList_2tqyw_38","bui-TabListWrapper":"_bui-TabListWrapper_2tqyw_43","bui-Tab":"_bui-Tab_2tqyw_18","bui-TabActive":"_bui-TabActive_2tqyw_66","bui-TabHovered":"_bui-TabHovered_2tqyw_80","bui-TabPanel":"_bui-TabPanel_2tqyw_96"},k=a=>{const{tabRefs:t,tabsRef:e,hoveredKey:r,prevHoveredKey:s}=a,{classNames:i}=S("Tabs"),n=c.useContext(K),u=c.useRef(null),l=c.useCallback(()=>{if(!e.current)return;const o=e.current.getBoundingClientRect();if(n?.selectedKey){const b=t.current.get(n.selectedKey.toString());if(b){const d=b.getBoundingClientRect(),f=d.left-o.left,v=d.top-o.top;u.current===null?(e.current.style.setProperty("--active-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--active-transition-duration","0.25s")})):e.current.style.setProperty("--active-transition-duration","0.25s"),u.current=n.selectedKey.toString(),e.current.style.setProperty("--active-tab-left",`${f}px`),e.current.style.setProperty("--active-tab-right",`${f+d.width}px`),e.current.style.setProperty("--active-tab-top",`${v}px`),e.current.style.setProperty("--active-tab-bottom",`${v+d.height}px`),e.current.style.setProperty("--active-tab-width",`${d.width}px`),e.current.style.setProperty("--active-tab-height",`${d.height}px`)}}if(r){const b=t.current.get(r);if(b){const d=b.getBoundingClientRect(),f=d.left-o.left,v=d.top-o.top;e.current.style.setProperty("--hovered-tab-left",`${f}px`),e.current.style.setProperty("--hovered-tab-right",`${f+d.width}px`),e.current.style.setProperty("--hovered-tab-top",`${v}px`),e.current.style.setProperty("--hovered-tab-bottom",`${v+d.height}px`),e.current.style.setProperty("--hovered-tab-width",`${d.width}px`),e.current.style.setProperty("--hovered-tab-height",`${d.height}px`),s.current===null?(e.current.style.setProperty("--hovered-transition-duration","0s"),requestAnimationFrame(()=>{e.current&&e.current.style.setProperty("--hovered-transition-duration","0.2s")})):e.current.style.setProperty("--hovered-transition-duration","0.2s"),s.current=r,e.current.style.setProperty("--hovered-tab-opacity","1")}}else e.current.style.setProperty("--hovered-tab-opacity","0"),s.current=null},[n?.selectedKey,r,t.current]);return c.useEffect(()=>{l()},[l,t.current.size]),c.useEffect(()=>{const o=()=>l();return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[l]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:g(i.tabActive,P[i.tabActive])}),h.jsx("div",{className:g(i.tabHovered,P[i.tabHovered])})]})};k.__docgenInfo={description:`A component that renders the indicators for the toolbar.

@internal`,methods:[],displayName:"TabsIndicators",props:{tabRefs:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"Map",elements:[{name:"string"},{name:"HTMLDivElement"}],raw:"Map<string, HTMLDivElement>"}],raw:"MutableRefObject<Map<string, HTMLDivElement>>"},description:""},tabsRef:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}]}],raw:"MutableRefObject<HTMLDivElement | null>"},description:""},hoveredKey:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},prevHoveredKey:{required:!0,tsType:{name:"MutableRefObject",elements:[{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]}],raw:"MutableRefObject<string | null>"},description:""}}};const q=c.createContext(void 0),z=()=>{const a=c.useContext(q);if(!a)throw new Error("Tab components must be used within a Tabs component");return a},Me=(a,t,e)=>e==="exact"?a===t:a===t?!0:t.startsWith(`${a}/`),Le=a=>{const{classNames:t,cleanedProps:e}=S("Tabs",a),{children:r,...s}=e,i=c.useRef(null),n=c.useRef(new Map),[u,l]=c.useState(null),o=c.useRef(null);let b=pe();const d=$e(),f=($,y)=>{y?n.current.set($,y):n.current.delete($)},v=(()=>{const $=c.Children.toArray(r);for(const y of $)if(c.isValidElement(y)&&y.type===V){const C=c.Children.toArray(y.props.children);for(const x of C)if(c.isValidElement(x)&&x.props.href){const W=x.props.matchStrategy||"exact";if(Me(x.props.href,d.pathname,W))return x.props.id}return C.every(x=>c.isValidElement(x)&&x.props.href)?null:void 0}})();if(!r)return null;const m={tabsRef:i,tabRefs:n,hoveredKey:u,prevHoveredKey:o,setHoveredKey:l,setTabRef:f};return h.jsx(q.Provider,{value:m,children:h.jsx(fe,{navigate:b,useHref:ye,children:h.jsx(we,{className:g(t.tabs,P[t.tabs]),keyboardActivation:"manual",selectedKey:v,ref:i,...s,children:r})})})},V=a=>{const{classNames:t,cleanedProps:e}=S("Tabs",a),{children:r,...s}=e,{setHoveredKey:i,tabRefs:n,tabsRef:u,hoveredKey:l,prevHoveredKey:o}=z(),b=f=>{i(f)},d=c.Children.map(r,f=>c.isValidElement(f)?c.cloneElement(f,{onHoverStart:()=>b(f.props.id),onHoverEnd:()=>b(null)}):f);return h.jsxs("div",{className:g(t.tabListWrapper,P[t.tabListWrapper]),children:[h.jsx(Ce,{className:g(t.tabList,P[t.tabList]),"aria-label":"Toolbar tabs",...s,children:d}),h.jsx(k,{tabRefs:n,tabsRef:u,hoveredKey:l,prevHoveredKey:o})]})},He=a=>{const{classNames:t,cleanedProps:e}=S("Tabs",a),{href:r,children:s,id:i,matchStrategy:n,...u}=e,{setTabRef:l}=z();return h.jsx(Ee,{id:i,className:g(t.tab,P[t.tab]),ref:o=>l(i,o),href:r,...u,children:s})},_e=a=>{const{classNames:t,cleanedProps:e}=S("Tabs",a),{children:r,...s}=e;return h.jsx(Re,{className:g(t.panel,P[t.panel]),...s,children:r})};Le.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"Tabs",composes:["AriaTabsProps"]};V.__docgenInfo={description:`A component that renders a list of tabs.

@public`,methods:[],displayName:"TabList",composes:["Omit"]};He.__docgenInfo={description:`A component that renders a tab.

@public`,methods:[],displayName:"Tab",props:{matchStrategy:{required:!1,tsType:{name:"union",raw:"'exact' | 'prefix'",elements:[{name:"literal",value:"'exact'"},{name:"literal",value:"'prefix'"}]},description:`Strategy for matching the current route to determine if this tab should be active.
- 'exact': Tab href must exactly match the current pathname (default)
- 'prefix': Tab is active if current pathname starts with tab href`}},composes:["AriaTabProps"]};_e.__docgenInfo={description:`A component that renders the content of a tab.

@public`,methods:[],displayName:"TabPanel",composes:["AriaTabPanelProps"]};export{he as $,Le as T,V as a,He as b,_e as c};

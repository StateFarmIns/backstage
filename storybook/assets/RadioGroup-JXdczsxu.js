import{r as $,a4 as h,j as w}from"./iframe-DRkdG3e7.js";import{a as V,b as H,$ as O,e as K,f as U,d as B,h as z,k as J,l as Q,g as X}from"./utils-Do8wdv2E.js";import{f as Y,e as Z,d as ee,a as ae,b as ie,c as le,F as de}from"./FieldError-wq6_h5HW.js";import{a as re}from"./Label-B_MQmI76.js";import{$ as oe,a as te,b as se}from"./SelectionIndicator-8XH3m-MM.js";import{a as ne,b as F,$ as ce,e as ue,d as fe,c as be}from"./useFocusRing-DcL9jFdt.js";import{$ as $e}from"./useControlledState-CArjyaSO.js";import{$ as ve}from"./context-Dx5P6Vpw.js";import{$ as pe}from"./useFormReset-CMFGt5H1.js";import{a as L}from"./usePress-B_v-tpR2.js";import{$ as me}from"./VisuallyHidden-DAh9rgn6.js";import{c as C}from"./clsx-B-dksMZM.js";import{F as xe}from"./FieldLabel-Bp8qg6p8.js";import{u as k}from"./useStyles-JllvZotu.js";const j=new WeakMap;function Re(a,e,i){let{value:d,children:n,"aria-label":r,"aria-labelledby":v,onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f}=a;const u=a.isDisabled||e.isDisabled;let P=e.selectedValue===d,R=D=>{D.stopPropagation(),e.setSelectedValue(d)},{pressProps:y,isPressed:I}=L({onPressStart:l,onPressEnd:c,onPressChange:t,onPress:o,onPressUp:s,onClick:f,isDisabled:u}),{pressProps:_,isPressed:g}=L({onPressStart:l,onPressEnd:c,onPressChange:t,onPressUp:s,onClick:f,isDisabled:u,onPress(D){var N;o?.(D),e.setSelectedValue(d),(N=i.current)===null||N===void 0||N.focus()}}),{focusableProps:M}=ne(V(a,{onFocus:()=>e.setLastFocusedValue(d)}),i),x=V(y,M),b=F(a,{labelable:!0}),p=-1;e.selectedValue!=null?e.selectedValue===d&&(p=0):(e.lastFocusedValue===d||e.lastFocusedValue==null)&&(p=0),u&&(p=void 0);let{name:m,form:q,descriptionId:W,errorMessageId:A,validationBehavior:G}=j.get(e);return pe(i,e.defaultSelectedValue,e.setSelectedValue),Y({validationBehavior:G},e,i),{labelProps:V(_,$.useMemo(()=>({onClick:D=>D.preventDefault(),onMouseDown:D=>D.preventDefault()}),[])),inputProps:V(b,{...x,type:"radio",name:m,form:q,tabIndex:p,disabled:u,required:e.isRequired&&G==="native",checked:P,value:d,onChange:R,"aria-describedby":[a["aria-describedby"],e.isInvalid?A:null,W].filter(Boolean).join(" ")||void 0}),isDisabled:u,isSelected:P,isPressed:I||g}}function Pe(a,e){let{name:i,form:d,isReadOnly:n,isRequired:r,isDisabled:v,orientation:l="vertical",validationBehavior:c="aria"}=a,{direction:t}=ve(),{isInvalid:o,validationErrors:s,validationDetails:f}=e.displayValidation,{labelProps:u,fieldProps:P,descriptionProps:R,errorMessageProps:y}=Z({...a,labelElementType:"span",isInvalid:e.isInvalid,errorMessage:a.errorMessage||s}),I=F(a,{labelable:!0}),{focusWithinProps:_}=ce({onBlurWithin(x){var b;(b=a.onBlur)===null||b===void 0||b.call(a,x),e.selectedValue||e.setLastFocusedValue(null)},onFocusWithin:a.onFocus,onFocusWithinChange:a.onFocusChange}),g=x=>{let b;switch(x.key){case"ArrowRight":t==="rtl"&&l!=="vertical"?b="prev":b="next";break;case"ArrowLeft":t==="rtl"&&l!=="vertical"?b="next":b="prev";break;case"ArrowDown":b="next";break;case"ArrowUp":b="prev";break;default:return}x.preventDefault();let p=oe(x.currentTarget,{from:x.target,accept:q=>q instanceof ue(q).HTMLInputElement&&q.type==="radio"}),m;b==="next"?(m=p.nextNode(),m||(p.currentNode=x.currentTarget,m=p.firstChild())):(m=p.previousNode(),m||(p.currentNode=x.currentTarget,m=p.lastChild())),m&&(m.focus(),e.setSelectedValue(m.value))},M=H(i);return j.set(e,{name:M,form:d,descriptionId:R.id,errorMessageId:y.id,validationBehavior:c}),{radioGroupProps:V(I,{role:"radiogroup",onKeyDown:g,"aria-invalid":e.isInvalid||void 0,"aria-errormessage":a["aria-errormessage"],"aria-readonly":n||void 0,"aria-required":r||void 0,"aria-disabled":v||void 0,"aria-orientation":l,...P,..._}),labelProps:u,descriptionProps:R,errorMessageProps:y,isInvalid:o,validationErrors:s,validationDetails:f}}let ye=Math.round(Math.random()*1e10),he=0;function Ve(a){let e=$.useMemo(()=>a.name||`radio-group-${ye}-${++he}`,[a.name]);var i;let[d,n]=$e(a.value,(i=a.defaultValue)!==null&&i!==void 0?i:null,a.onChange),[r]=$.useState(d),[v,l]=$.useState(null),c=ee({...a,value:d}),t=f=>{!a.isReadOnly&&!a.isDisabled&&(n(f),c.commitValidation())},o=c.displayValidation.isInvalid;var s;return{...c,name:e,selectedValue:d,defaultSelectedValue:a.value!==void 0?r:(s=a.defaultValue)!==null&&s!==void 0?s:null,setSelectedValue:t,lastFocusedValue:v,setLastFocusedValue:l,isDisabled:a.isDisabled||!1,isReadOnly:a.isReadOnly||!1,isRequired:a.isRequired||!1,validationState:a.validationState||(o?"invalid":null),isInvalid:o}}const ge=$.createContext(null),De=$.createContext(null),T=$.createContext(null),Ie=$.forwardRef(function(e,i){[e,i]=O(e,i,ge);let{validationBehavior:d}=K(ae)||{};var n,r;let v=(r=(n=e.validationBehavior)!==null&&n!==void 0?n:d)!==null&&r!==void 0?r:"native",l=Ve({...e,validationBehavior:v}),[c,t]=U(!e["aria-label"]&&!e["aria-labelledby"]),{radioGroupProps:o,labelProps:s,descriptionProps:f,errorMessageProps:u,...P}=Pe({...e,label:t,validationBehavior:v},l),R=B({...e,values:{orientation:e.orientation||"vertical",isDisabled:l.isDisabled,isReadOnly:l.isReadOnly,isRequired:l.isRequired,isInvalid:l.isInvalid,state:l},defaultClassName:"react-aria-RadioGroup"}),y=F(e,{global:!0});return h.createElement("div",{...V(y,R,o),ref:i,slot:e.slot||void 0,"data-orientation":e.orientation||"vertical","data-invalid":l.isInvalid||void 0,"data-disabled":l.isDisabled||void 0,"data-readonly":l.isReadOnly||void 0,"data-required":l.isRequired||void 0},h.createElement(z,{values:[[T,l],[re,{...s,ref:c,elementType:"span"}],[ie,{slots:{description:f,errorMessage:u}}],[le,P]]},h.createElement(te,null,R.children)))}),_e=$.forwardRef(function(e,i){let{inputRef:d=null,...n}=e;[e,i]=O(n,i,De);let r=h.useContext(T),v=J($.useMemo(()=>Q(d,e.inputRef!==void 0?e.inputRef:null),[d,e.inputRef])),{labelProps:l,inputProps:c,isSelected:t,isDisabled:o,isPressed:s}=Re({...X(e),children:typeof e.children=="function"?!0:e.children},r,v),{isFocused:f,isFocusVisible:u,focusProps:P}=fe(),R=o||r.isReadOnly,{hoverProps:y,isHovered:I}=be({...e,isDisabled:R}),_=B({...e,defaultClassName:"react-aria-Radio",values:{isSelected:t,isPressed:s,isHovered:I,isFocused:f,isFocusVisible:u,isDisabled:o,isReadOnly:r.isReadOnly,isInvalid:r.isInvalid,isRequired:r.isRequired}}),g=F(e,{global:!0});return delete g.id,delete g.onClick,h.createElement("label",{...V(g,l,y,_),ref:i,"data-selected":t||void 0,"data-pressed":s||void 0,"data-hovered":I||void 0,"data-focused":f||void 0,"data-focus-visible":u||void 0,"data-disabled":o||void 0,"data-readonly":r.isReadOnly||void 0,"data-invalid":r.isInvalid||void 0,"data-required":r.isRequired||void 0},h.createElement(me,{elementType:"span"},h.createElement("input",{...V(c,P),ref:v})),h.createElement(se.Provider,{value:{isSelected:t}},_.children))}),E={"bui-RadioGroup":"_bui-RadioGroup_1juow_20","bui-RadioGroupContent":"_bui-RadioGroupContent_1juow_26","bui-Radio":"_bui-Radio_1juow_20"},S=$.forwardRef((a,e)=>{const{classNames:i,cleanedProps:d}=k("RadioGroup",a),{className:n,label:r,secondaryLabel:v,description:l,isRequired:c,"aria-label":t,"aria-labelledby":o,children:s,...f}=d;$.useEffect(()=>{!r&&!t&&!o&&console.warn("RadioGroup requires either a visible label, aria-label, or aria-labelledby for accessibility")},[r,t,o]);const u=v||(c?"Required":null);return w.jsxs(Ie,{className:C(i.root,E[i.root],n),"aria-label":t,"aria-labelledby":o,...f,ref:e,children:[w.jsx(xe,{label:r,secondaryLabel:u,description:l}),w.jsx("div",{className:C(i.content,E[i.content]),children:s}),w.jsx(de,{})]})});S.displayName="RadioGroup";const qe=$.forwardRef((a,e)=>{const{className:i,...d}=a,{classNames:n}=k("RadioGroup");return w.jsx(_e,{className:C(n.radio,E[n.radio],i),...d,ref:e})});S.displayName="RadioGroup";S.__docgenInfo={description:"@public",methods:[],displayName:"RadioGroup",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""}},composes:["Omit"]};qe.__docgenInfo={description:"@public",methods:[],displayName:"Radio",composes:["AriaRadioProps"]};export{S as R,qe as a};

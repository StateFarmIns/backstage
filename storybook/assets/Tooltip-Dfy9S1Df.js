import{a4 as d,aE as j,r as i,j as x}from"./iframe-DB3V3M1P.js";import{$ as A,a as B,b as F,c as k,d as q,e as V,f as W}from"./OverlayArrow-DmB3lukn.js";import{i as K,a as P,b as U,h as Z,$ as Y,d as z}from"./utils-DLW_tb52.js";import{b as D,c as M,a as G,p as J,q as Q,r as X}from"./useFocusRing-BjAnfjlx.js";import{c as w}from"./clsx-B-dksMZM.js";import{u as ee}from"./useStyles-0KSv8py2.js";const C=d.createContext(null);function te(e){let{children:r}=e,t=i.useContext(C),[n,c]=i.useState(0),a=i.useMemo(()=>({parent:t,modalCount:n,addModal(){c(o=>o+1),t&&t.addModal()},removeModal(){c(o=>o-1),t&&t.removeModal()}}),[t,n]);return d.createElement(C.Provider,{value:a},r)}function re(){let e=i.useContext(C);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function oe(e){let{modalProviderProps:r}=re();return d.createElement("div",{"data-overlay-container":!0,...e,...r})}function le(e){return d.createElement(te,null,d.createElement(oe,e))}function ne(e){let r=K(),{portalContainer:t=r?null:document.body,...n}=e,{getContainer:c}=A();if(!e.portalContainer&&c&&(t=c()),d.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let a=d.createElement(le,n);return j.createPortal(a,t)}function ae(e,r){let t=D(e,{labelable:!0}),{hoverProps:n}=M({onHoverStart:()=>r?.open(!0),onHoverEnd:()=>r?.close()});return{tooltipProps:P(t,n,{role:"tooltip"})}}function ie(e,r,t){let{isDisabled:n,trigger:c}=e,a=U(),o=i.useRef(!1),l=i.useRef(!1),s=()=>{(o.current||l.current)&&r.open(l.current)},$=T=>{!o.current&&!l.current&&r.close(T)};i.useEffect(()=>{let T=O=>{t&&t.current&&O.key==="Escape"&&(O.stopPropagation(),r.close(!0))};if(r.isOpen)return document.addEventListener("keydown",T,!0),()=>{document.removeEventListener("keydown",T,!0)}},[t,r]);let m=()=>{c!=="focus"&&(J()==="pointer"?o.current=!0:o.current=!1,s())},v=()=>{c!=="focus"&&(l.current=!1,o.current=!1,$())},g=()=>{l.current=!1,o.current=!1,$(!0)},E=()=>{Q()&&(l.current=!0,s())},f=()=>{l.current=!1,o.current=!1,$(!0)},{hoverProps:H}=M({isDisabled:n,onHoverStart:m,onHoverEnd:v}),{focusableProps:I}=G({isDisabled:n,onFocus:E,onBlur:f},t);return{triggerProps:{"aria-describedby":r.isOpen?a:void 0,...P(I,H,{onPointerDown:g,onKeyDown:g}),tabIndex:void 0},tooltipProps:{id:a}}}const ce=1500,R=500;let p={},de=0,h=!1,u=null,b=null;function _(e={}){let{delay:r=ce,closeDelay:t=R}=e,{isOpen:n,open:c,close:a}=B(e),o=i.useMemo(()=>`${++de}`,[]),l=i.useRef(null),s=i.useRef(a),$=()=>{p[o]=g},m=()=>{for(let f in p)f!==o&&(p[f](!0),delete p[f])},v=()=>{l.current&&clearTimeout(l.current),l.current=null,m(),$(),h=!0,c(),u&&(clearTimeout(u),u=null),b&&(clearTimeout(b),b=null)},g=f=>{f||t<=0?(l.current&&clearTimeout(l.current),l.current=null,s.current()):l.current||(l.current=setTimeout(()=>{l.current=null,s.current()},t)),u&&(clearTimeout(u),u=null),h&&(b&&clearTimeout(b),b=setTimeout(()=>{delete p[o],b=null,h=!1},Math.max(R,t)))},E=()=>{m(),$(),!n&&!u&&!h?u=setTimeout(()=>{u=null,h=!0,v()},r):n||v()};return i.useEffect(()=>{s.current=a},[a]),i.useEffect(()=>()=>{l.current&&clearTimeout(l.current),p[o]&&delete p[o]},[o]),{isOpen:n,open:f=>{!f&&r>0&&!l.current?E():v()},close:g}}const y=i.createContext(null),N=i.createContext(null);function se(e){let r=_(e),t=i.useRef(null),{triggerProps:n,tooltipProps:c}=ie(e,r,t);return d.createElement(Z,{values:[[y,r],[N,{...c,triggerRef:t}]]},d.createElement(X,{...n,ref:t},e.children))}const fe=i.forwardRef(function({UNSTABLE_portalContainer:r,...t},n){[t,n]=Y(t,n,N);let c=i.useContext(y),a=_(t),o=t.isOpen!=null||t.defaultOpen!=null||!c?a:c,l=F(n,o.isOpen)||t.isExiting||!1;return!o.isOpen&&!l?null:d.createElement(ne,{portalContainer:r},d.createElement(ue,{...t,tooltipRef:n,isExiting:l}))});function ue(e){let r=i.useContext(y),t=i.useRef(null),{overlayProps:n,arrowProps:c,placement:a,triggerAnchorPoint:o}=k({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,arrowRef:t,offset:e.offset,crossOffset:e.crossOffset,isOpen:r.isOpen,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,containerPadding:e.containerPadding,onClose:()=>r.close(!0)}),l=q(e.tooltipRef,!!a)||e.isEntering||!1,s=z({...e,defaultClassName:"react-aria-Tooltip",values:{placement:a,isEntering:l,isExiting:e.isExiting,state:r}});e=P(e,n);let{tooltipProps:$}=ae(e,r),m=D(e,{global:!0});return d.createElement("div",{...P(m,s,$),ref:e.tooltipRef,style:{...n.style,"--trigger-anchor-point":o?`${o.x}px ${o.y}px`:void 0,...s.style},"data-placement":a??void 0,"data-entering":l||void 0,"data-exiting":e.isExiting||void 0},d.createElement(V.Provider,{value:{...c,placement:a,ref:t}},s.children))}const L={"bui-Tooltip":"_bui-Tooltip_1i76q_18","bui-TooltipArrow":"_bui-TooltipArrow_1i76q_64"},$e=e=>{const{delay:r=600}=e;return x.jsx(se,{delay:r,...e})},S=i.forwardRef((e,r)=>{const{classNames:t,cleanedProps:n}=ee("Tooltip",e),{className:c,children:a,...o}=n;return x.jsxs(fe,{className:w(t.tooltip,L[t.tooltip],c),...o,ref:r,children:[x.jsx(W,{className:w(t.arrow,L[t.arrow]),children:x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[x.jsx("path",{d:"M10.3356 7.39793L15.1924 3.02682C15.9269 2.36577 16.8801 2 17.8683 2H20V7.94781e-07L1.74846e-07 -9.53674e-07L0 2L1.4651 2C2.4532 2 3.4064 2.36577 4.1409 3.02682L8.9977 7.39793C9.378 7.7402 9.9553 7.74021 10.3356 7.39793Z"}),x.jsx("path",{d:"M11.0046 8.14124C10.2439 8.82575 9.08939 8.82578 8.32869 8.14122L3.47189 3.77011C2.92109 3.27432 2.20619 2.99999 1.46509 2.99999L4.10999 3L8.99769 7.39793C9.37799 7.7402 9.95529 7.7402 10.3356 7.39793L15.2226 3L17.8683 2.99999C17.1271 2.99999 16.4122 3.27432 15.8614 3.77011L11.0046 8.14124Z"})]})}),a]})});S.displayName="Tooltip";$e.__docgenInfo={description:"@public",methods:[],displayName:"TooltipTrigger"};S.__docgenInfo={description:"@public",methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}},composes:["Omit"]};export{$e as T,S as a};
